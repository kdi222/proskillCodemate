{"version":3,"file":"pluginadditionpopup.min.js","sources":["../src/pluginadditionpopup.js"],"sourcesContent":["/* eslint-disable no-console */\n/* eslint-disable no-restricted-globals */\n\ndefine([\n    'jquery',\n    'core/ajax',\n    'core/modal_factory',\n    'core/modal_events',\n    'core/str',\n],\n    function ($, Ajax, ModalFactory, ModalEvents, Str) {\n        var addpluginmodal = function () {\n            ModalFactory.create({\n                type: ModalFactory.types.SAVE_CANCEL,\n                title: Str.get_string('frontpagemodaltitle', 'block_edwiserratingreview'),\n                body: Str.get_string('frontpagemodalbody', 'block_edwiserratingreview'),\n            })\n            .done(function (modal) {\n                modal.setSaveButtonText(Str.get_string('yes', 'block_edwiserratingreview'));\n                var root = modal.getRoot();\n                root.on(ModalEvents.save, function () {\n                    addplugintocourse('true');\n                });\n                root.on(ModalEvents.cancel, function () {\n                    addplugintocourse('No');\n                });\n                modal.show();\n            });\n        };\n        var addplugintocourse = function (value) {\n            console.log(\"ratingreview: \" + value);\n            Ajax.call([{\n                methodname: 'block_edwiserratingreview_add_plugin_to_course',\n                args: { userdeniedvalue: value },\n                done: function () {\n                    window.location.reload();\n                },\n                fail: function () {\n                    console.log(Notification.exception);\n                }\n\n            }]);\n        };\n        return {\n            init: function () {\n                $(document).ready(function () {\n                    addpluginmodal();\n                });\n            },\n        };\n\n    });\n"],"names":["define","$","Ajax","ModalFactory","ModalEvents","Str","addplugintocourse","value","console","log","call","methodname","args","userdeniedvalue","done","window","location","reload","fail","Notification","exception","init","document","ready","create","type","types","SAVE_CANCEL","title","get_string","body","modal","setSaveButtonText","root","getRoot","on","save","cancel","show"],"mappings":"AAGAA,uDAAO,CACH,SACA,YACA,qBACA,oBACA,aAEA,SAAUC,EAAGC,KAAMC,aAAcC,YAAaC,SAmBtCC,kBAAoB,SAAUC,OAC9BC,QAAQC,IAAI,iBAAmBF,OAC/BL,KAAKQ,KAAK,CAAC,CACPC,WAAY,iDACZC,KAAM,CAAEC,gBAAiBN,OACzBO,KAAM,WACFC,OAAOC,SAASC,UAEpBC,KAAM,WACFV,QAAQC,IAAIU,aAAaC,sBAK9B,CACHC,KAAM,WACFpB,EAAEqB,UAAUC,OAAM,WAjCtBpB,aAAaqB,OAAO,CAChBC,KAAMtB,aAAauB,MAAMC,YACzBC,MAAOvB,IAAIwB,WAAW,sBAAuB,6BAC7CC,KAAMzB,IAAIwB,WAAW,qBAAsB,+BAE9Cf,MAAK,SAAUiB,OACZA,MAAMC,kBAAkB3B,IAAIwB,WAAW,MAAO,kCAC1CI,KAAOF,MAAMG,UACjBD,KAAKE,GAAG/B,YAAYgC,MAAM,WACtB9B,kBAAkB,WAEtB2B,KAAKE,GAAG/B,YAAYiC,QAAQ,WACxB/B,kBAAkB,SAEtByB,MAAMO"}
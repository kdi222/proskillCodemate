define(["jquery","block_slider/chart"],(function(t,e){return e.pluginService.register({beforeDraw:function(t,e){if(t.config.options.elements.center){var o=t.chart.ctx,i=(h=t.config.options.elements.center).fontStyle||"Roboto",n=h.text,r=h.color||"#3F3F3F",a=(h.sidePadding||20)/100*(2*t.innerRadius);o.font="30px "+i;var l=o.measureText(n).width,d=(2*t.innerRadius-a)/l,s=Math.floor(30*d),c=2*t.innerRadius;Math.min(s,c);o.textAlign="center",o.textBaseline="middle";var f=(t.chartArea.left+t.chartArea.right)/2,x=(t.chartArea.top+t.chartArea.bottom)/2;o.font="30px "+i,o.fillStyle="#3F3F3F",o.fillText(n,f,x)}if(t.config.options.elements.secondaryTxt){o=t.chart.ctx,i=(h=t.config.options.elements.secondaryTxt).fontStyle||"Roboto";var p=(g=(n=h.text).split(" "))[1]+" "+g[2];r=h.color||"#768c94",a=(h.sidePadding||20)/100*(2*t.innerRadius);o.font="11px "+i;l=o.measureText(n).width,d=(2*t.innerRadius-a)/l,s=Math.floor(30*d),c=2*t.innerRadius,Math.min(s,c);o.textAlign="center",o.textBaseline="middle";f=(t.chartArea.left+t.chartArea.right)/1.6,x=(t.chartArea.top+t.chartArea.bottom)/1.45;o.font="12px"+i,o.fillStyle=r,""==n?o.fillText(n,f,x):o.fillText(p,f,x)}if(t.config.options.elements.threeTxt){var h,g;o=t.chart.ctx,i=(h=t.config.options.elements.threeTxt).fontStyle||"Roboto",p=(g=(n=h.text).split(" "))[0],r=h.color||"#575757",a=(h.sidePadding||20)/100*(2*t.innerRadius);o.font="bold 12px "+i;l=o.measureText(n).width,d=(2*t.innerRadius-a)/l,s=Math.floor(30*d),c=2*t.innerRadius,Math.min(s,c);o.textAlign="center",o.textBaseline="middle";f=(t.chartArea.left+t.chartArea.right)/3,x=(t.chartArea.top+t.chartArea.bottom)/1.45;o.font="12px"+i,o.fillStyle=r,o.fillText(p,f,x)}},afterDraw:function(t,e){t.canvas.parentNode.style.height="149px",t.canvas.parentNode.style.width="149px",t.options.title.fontSize=13,t.update()}}),{init:function(o){t.each(o,(function(t,o){var i=document.getElementById(t).getContext("2d"),n=i.createLinearGradient(500,0,100,0);n.addColorStop(0,o.fromcolor),n.addColorStop(1,o.tocolor);var r=0;o.inverse&&(r=o.inverse);new e(i,{type:"doughnut",data:{labels:[o.title],datasets:[{label:o.title,data:[o.value,r],backgroundColor:[n,"#E4EEEC"],borderColor:[n,"#E4EEEC"],borderWidth:1}]},axis:{display:!1},options:{tooltips:{enabled:!1},layout:{padding:{left:1,right:1,top:1,bottom:1}},hover:{mode:null},title:{text:[o.title,o.type],display:!1,position:"bottom",fontSize:13,fontWeight:"bold"},elements:{center:{text:o.showednumber,color:o.txtColor,fontStyle:"Roboto",sidePadding:o.padding,fontSize:12},secondaryTxt:{text:o.description,color:o.txtColor,fontStyle:"Roboto",sidePadding:20,fontSize:12},threeTxt:{text:o.description,color:o.txtColor,fontStyle:"Roboto",sidePadding:20,fontSize:12}},cutoutPercentage:95,scales:{yAxes:[{gridLines:{drawBorder:!1,display:!1},ticks:{display:!1}}],xAxes:[{gridLines:{drawBorder:!1,display:!1},ticks:{display:!1}}]},legend:{display:!1}}})}))}}}));